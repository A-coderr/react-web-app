{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.collect = exports.fromErrorHook = exports.fromAfterHook = exports.fromBeforeHook = exports.runHooks = exports.runHook = void 0;\nconst compose_js_1 = require(\"./compose.js\");\nconst runHook = (hook, context, type) => {\n  const typeBefore = context.type;\n  if (type) context.type = type;\n  return Promise.resolve(hook.call(context.self, context)).then(res => {\n    if (type) context.type = typeBefore;\n    if (res && res !== context) {\n      Object.assign(context, res);\n    }\n  });\n};\nexports.runHook = runHook;\nconst runHooks = hooks => context => hooks.reduce((promise, hook) => promise.then(() => (0, exports.runHook)(hook, context)), Promise.resolve(context));\nexports.runHooks = runHooks;\nfunction fromBeforeHook(hook) {\n  return (context, next) => {\n    return (0, exports.runHook)(hook, context, 'before').then(next);\n  };\n}\nexports.fromBeforeHook = fromBeforeHook;\nfunction fromAfterHook(hook) {\n  return (context, next) => {\n    return next().then(() => (0, exports.runHook)(hook, context, 'after'));\n  };\n}\nexports.fromAfterHook = fromAfterHook;\nfunction fromErrorHook(hook) {\n  return (context, next) => {\n    return next().catch(error => {\n      if (context.error !== error || context.result !== undefined) {\n        context.original = {\n          ...context\n        };\n        context.error = error;\n        delete context.result;\n      }\n      return (0, exports.runHook)(hook, context, 'error').then(() => {\n        if (context.result === undefined && context.error !== undefined) {\n          throw context.error;\n        }\n      }).catch(error => {\n        context.error = error;\n        throw context.error;\n      });\n    });\n  };\n}\nexports.fromErrorHook = fromErrorHook;\nfunction collect({\n  before = [],\n  after = [],\n  error = []\n}) {\n  const beforeHooks = before.map(fromBeforeHook);\n  const afterHooks = [...after].reverse().map(fromAfterHook);\n  const errorHooks = error.length ? [fromErrorHook((0, exports.runHooks)(error))] : [];\n  return (0, compose_js_1.compose)([...errorHooks, ...beforeHooks, ...afterHooks]);\n}\nexports.collect = collect;","map":{"version":3,"names":["Object","defineProperty","exports","value","collect","fromErrorHook","fromAfterHook","fromBeforeHook","runHooks","runHook","compose_js_1","require","hook","context","type","typeBefore","Promise","resolve","call","self","then","res","assign","hooks","reduce","promise","next","catch","error","result","undefined","original","before","after","beforeHooks","map","afterHooks","reverse","errorHooks","length","compose"],"sources":["C:/Users/VARLab ROG 1/Documents/workspace/web/react-frontend/node_modules/@feathersjs/hooks/script/regular.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.collect = exports.fromErrorHook = exports.fromAfterHook = exports.fromBeforeHook = exports.runHooks = exports.runHook = void 0;\nconst compose_js_1 = require(\"./compose.js\");\nconst runHook = (hook, context, type) => {\n    const typeBefore = context.type;\n    if (type)\n        context.type = type;\n    return Promise.resolve(hook.call(context.self, context)).then((res) => {\n        if (type)\n            context.type = typeBefore;\n        if (res && res !== context) {\n            Object.assign(context, res);\n        }\n    });\n};\nexports.runHook = runHook;\nconst runHooks = (hooks) => (context) => hooks.reduce((promise, hook) => promise.then(() => (0, exports.runHook)(hook, context)), Promise.resolve(context));\nexports.runHooks = runHooks;\nfunction fromBeforeHook(hook) {\n    return (context, next) => {\n        return (0, exports.runHook)(hook, context, 'before').then(next);\n    };\n}\nexports.fromBeforeHook = fromBeforeHook;\nfunction fromAfterHook(hook) {\n    return (context, next) => {\n        return next().then(() => (0, exports.runHook)(hook, context, 'after'));\n    };\n}\nexports.fromAfterHook = fromAfterHook;\nfunction fromErrorHook(hook) {\n    return (context, next) => {\n        return next().catch((error) => {\n            if (context.error !== error || context.result !== undefined) {\n                context.original = { ...context };\n                context.error = error;\n                delete context.result;\n            }\n            return (0, exports.runHook)(hook, context, 'error')\n                .then(() => {\n                if (context.result === undefined && context.error !== undefined) {\n                    throw context.error;\n                }\n            })\n                .catch((error) => {\n                context.error = error;\n                throw context.error;\n            });\n        });\n    };\n}\nexports.fromErrorHook = fromErrorHook;\nfunction collect({ before = [], after = [], error = [], }) {\n    const beforeHooks = before.map(fromBeforeHook);\n    const afterHooks = [...after].reverse().map(fromAfterHook);\n    const errorHooks = error.length ? [fromErrorHook((0, exports.runHooks)(error))] : [];\n    return (0, compose_js_1.compose)([...errorHooks, ...beforeHooks, ...afterHooks]);\n}\nexports.collect = collect;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}