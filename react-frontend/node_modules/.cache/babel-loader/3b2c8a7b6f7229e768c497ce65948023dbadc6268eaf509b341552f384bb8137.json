{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resolveAll = exports.resolveDispatch = exports.resolveExternal = exports.setDispatch = exports.getDispatch = exports.getDispatchValue = exports.DISPATCH = exports.resolveResult = exports.resolveData = exports.resolveQuery = void 0;\nconst hooks_1 = require(\"@feathersjs/hooks\");\nconst getResult = context => {\n  const isPaginated = context.method === 'find' && context.result.data;\n  const data = isPaginated ? context.result.data : context.result;\n  return {\n    isPaginated,\n    data\n  };\n};\nconst runResolvers = async (resolvers, data, ctx, status) => {\n  let current = data;\n  for (const resolver of resolvers) {\n    if (resolver && typeof resolver.resolve === 'function') {\n      current = await resolver.resolve(current, ctx, status);\n    }\n  }\n  return current;\n};\nconst resolveQuery = (...resolvers) => async (context, next) => {\n  var _a;\n  const data = ((_a = context === null || context === void 0 ? void 0 : context.params) === null || _a === void 0 ? void 0 : _a.query) || {};\n  const query = await runResolvers(resolvers, data, context);\n  context.params = {\n    ...context.params,\n    query\n  };\n  if (typeof next === 'function') {\n    return next();\n  }\n};\nexports.resolveQuery = resolveQuery;\nconst resolveData = (...resolvers) => async (context, next) => {\n  if (context.data !== undefined) {\n    const data = context.data;\n    const status = {\n      originalContext: context\n    };\n    if (Array.isArray(data)) {\n      context.data = await Promise.all(data.map(current => runResolvers(resolvers, current, context, status)));\n    } else {\n      context.data = await runResolvers(resolvers, data, context, status);\n    }\n  }\n  if (typeof next === 'function') {\n    return next();\n  }\n};\nexports.resolveData = resolveData;\nconst resolveResult = (...resolvers) => {\n  const virtualProperties = new Set(resolvers.reduce((acc, current) => acc.concat(current.virtualNames), []));\n  return async (context, next) => {\n    var _a;\n    if (typeof next !== 'function') {\n      throw new Error('The resolveResult hook must be used as an around hook');\n    }\n    const {\n      $resolve,\n      $select,\n      ...query\n    } = ((_a = context.params) === null || _a === void 0 ? void 0 : _a.query) || {};\n    const hasVirtualSelects = Array.isArray($select) && $select.some(name => virtualProperties.has(name));\n    const resolve = {\n      originalContext: context,\n      ...context.params.resolve,\n      properties: $resolve || $select\n    };\n    context.params = {\n      ...context.params,\n      resolve,\n      query: {\n        ...query,\n        ...(!!$select && !hasVirtualSelects ? {\n          $select\n        } : {})\n      }\n    };\n    await next();\n    const status = context.params.resolve;\n    const {\n      isPaginated,\n      data\n    } = getResult(context);\n    const result = Array.isArray(data) ? await Promise.all(data.map(async current => runResolvers(resolvers, current, context, status))) : await runResolvers(resolvers, data, context, status);\n    if (isPaginated) {\n      context.result.data = result;\n    } else {\n      context.result = result;\n    }\n  };\n};\nexports.resolveResult = resolveResult;\nexports.DISPATCH = Symbol.for('@feathersjs/schema/dispatch');\nconst getDispatchValue = value => {\n  if (typeof value === 'object' && value !== null) {\n    if (value[exports.DISPATCH] !== undefined) {\n      return value[exports.DISPATCH];\n    }\n    if (Array.isArray(value)) {\n      return value.map(item => (0, exports.getDispatchValue)(item));\n    }\n  }\n  return value;\n};\nexports.getDispatchValue = getDispatchValue;\nconst getDispatch = value => typeof value === 'object' && value !== null && value[exports.DISPATCH] ? value[exports.DISPATCH] : null;\nexports.getDispatch = getDispatch;\nconst setDispatch = (current, dispatch) => {\n  Object.defineProperty(current, exports.DISPATCH, {\n    value: dispatch,\n    enumerable: false,\n    configurable: false\n  });\n  return dispatch;\n};\nexports.setDispatch = setDispatch;\nconst resolveExternal = (...resolvers) => async (context, next) => {\n  if (typeof next !== 'function') {\n    throw new Error('The resolveExternal hook must be used as an around hook');\n  }\n  await next();\n  const existingDispatch = (0, exports.getDispatch)(context.result);\n  if (existingDispatch !== null) {\n    context.dispatch = existingDispatch;\n  } else {\n    const status = context.params.resolve;\n    const {\n      isPaginated,\n      data\n    } = getResult(context);\n    const resolveAndGetDispatch = async current => {\n      const currentExistingDispatch = (0, exports.getDispatch)(current);\n      if (currentExistingDispatch !== null) {\n        return currentExistingDispatch;\n      }\n      const resolved = await runResolvers(resolvers, current, context, status);\n      const currentDispatch = Object.keys(resolved).reduce((res, key) => {\n        res[key] = (0, exports.getDispatchValue)(resolved[key]);\n        return res;\n      }, {});\n      return (0, exports.setDispatch)(current, currentDispatch);\n    };\n    const result = await (Array.isArray(data) ? Promise.all(data.map(resolveAndGetDispatch)) : resolveAndGetDispatch(data));\n    const dispatch = isPaginated ? {\n      ...context.result,\n      data: result\n    } : result;\n    context.dispatch = (0, exports.setDispatch)(context.result, dispatch);\n  }\n};\nexports.resolveExternal = resolveExternal;\nexports.resolveDispatch = exports.resolveExternal;\nconst dataMethods = ['create', 'update', 'patch'];\n/**\n * Resolve all resolvers at once.\n *\n * @param map The individual resolvers\n * @returns A combined resolver middleware\n * @deprecated Use individual data, query and external resolvers and hooks instead.\n * @see https://dove.feathersjs.com/guides/cli/service.schemas.html\n */\nconst resolveAll = map => {\n  const middleware = [];\n  middleware.push((0, exports.resolveDispatch)(map.dispatch));\n  if (map.result) {\n    middleware.push((0, exports.resolveResult)(map.result));\n  }\n  if (map.query) {\n    middleware.push((0, exports.resolveQuery)(map.query));\n  }\n  if (map.data) {\n    dataMethods.forEach(name => {\n      if (map.data[name]) {\n        const resolver = (0, exports.resolveData)(map.data[name]);\n        middleware.push(async (context, next) => context.method === name ? resolver(context, next) : next());\n      }\n    });\n  }\n  return (0, hooks_1.compose)(middleware);\n};\nexports.resolveAll = resolveAll;","map":{"version":3,"names":["hooks_1","require","getResult","context","isPaginated","method","result","data","runResolvers","resolvers","ctx","status","current","resolver","resolve","resolveQuery","next","_a","params","query","exports","resolveData","undefined","originalContext","Array","isArray","Promise","all","map","resolveResult","virtualProperties","Set","reduce","acc","concat","virtualNames","Error","$resolve","$select","hasVirtualSelects","some","name","has","properties","DISPATCH","Symbol","for","getDispatchValue","value","item","getDispatch","setDispatch","dispatch","Object","defineProperty","enumerable","configurable","resolveExternal","existingDispatch","resolveAndGetDispatch","currentExistingDispatch","resolved","currentDispatch","keys","res","key","resolveDispatch","dataMethods","resolveAll","middleware","push","forEach","compose"],"sources":["C:\\Users\\VARLab ROG 1\\Documents\\workspace\\web\\react-frontend\\node_modules\\@feathersjs\\authentication\\node_modules\\@feathersjs\\schema\\src\\hooks\\resolve.ts"],"sourcesContent":["import { HookContext, NextFunction } from '@feathersjs/feathers'\nimport { compose } from '@feathersjs/hooks'\nimport { Resolver, ResolverStatus } from '../resolver'\n\nconst getResult = <H extends HookContext>(context: H) => {\n  const isPaginated = context.method === 'find' && context.result.data\n  const data = isPaginated ? context.result.data : context.result\n\n  return { isPaginated, data }\n}\n\nconst runResolvers = async <T, H extends HookContext>(\n  resolvers: Resolver<T, H>[],\n  data: any,\n  ctx: H,\n  status?: Partial<ResolverStatus<T, H>>\n) => {\n  let current: any = data\n\n  for (const resolver of resolvers) {\n    if (resolver && typeof resolver.resolve === 'function') {\n      current = await resolver.resolve(current, ctx, status)\n    }\n  }\n\n  return current as T\n}\n\nexport type ResolverSetting<H extends HookContext> = Resolver<any, H> | Resolver<any, H>[]\n\nexport const resolveQuery =\n  <H extends HookContext>(...resolvers: Resolver<any, H>[]) =>\n  async (context: H, next?: NextFunction) => {\n    const data = context?.params?.query || {}\n    const query = await runResolvers(resolvers, data, context)\n\n    context.params = {\n      ...context.params,\n      query\n    }\n\n    if (typeof next === 'function') {\n      return next()\n    }\n  }\n\nexport const resolveData =\n  <H extends HookContext>(...resolvers: Resolver<any, H>[]) =>\n  async (context: H, next?: NextFunction) => {\n    if (context.data !== undefined) {\n      const data = context.data\n\n      const status = {\n        originalContext: context\n      }\n\n      if (Array.isArray(data)) {\n        context.data = await Promise.all(\n          data.map((current) => runResolvers(resolvers, current, context, status))\n        )\n      } else {\n        context.data = await runResolvers(resolvers, data, context, status)\n      }\n    }\n\n    if (typeof next === 'function') {\n      return next()\n    }\n  }\n\nexport const resolveResult = <H extends HookContext>(...resolvers: Resolver<any, H>[]) => {\n  const virtualProperties = new Set(resolvers.reduce((acc, current) => acc.concat(current.virtualNames), []))\n\n  return async (context: H, next: NextFunction) => {\n    if (typeof next !== 'function') {\n      throw new Error('The resolveResult hook must be used as an around hook')\n    }\n\n    const { $resolve, $select, ...query } = context.params?.query || {}\n    const hasVirtualSelects = Array.isArray($select) && $select.some((name) => virtualProperties.has(name))\n\n    const resolve = {\n      originalContext: context,\n      ...context.params.resolve,\n      properties: $resolve || $select\n    }\n\n    context.params = {\n      ...context.params,\n      resolve,\n      query: {\n        ...query,\n        ...(!!$select && !hasVirtualSelects ? { $select } : {})\n      }\n    }\n\n    await next()\n\n    const status = context.params.resolve\n    const { isPaginated, data } = getResult(context)\n\n    const result = Array.isArray(data)\n      ? await Promise.all(data.map(async (current) => runResolvers(resolvers, current, context, status)))\n      : await runResolvers(resolvers, data, context, status)\n\n    if (isPaginated) {\n      context.result.data = result\n    } else {\n      context.result = result\n    }\n  }\n}\n\nexport const DISPATCH = Symbol.for('@feathersjs/schema/dispatch')\n\nexport const getDispatchValue = (value: any): any => {\n  if (typeof value === 'object' && value !== null) {\n    if (value[DISPATCH] !== undefined) {\n      return value[DISPATCH]\n    }\n\n    if (Array.isArray(value)) {\n      return value.map((item) => getDispatchValue(item))\n    }\n  }\n\n  return value\n}\n\nexport const getDispatch = (value: any): any =>\n  typeof value === 'object' && value !== null && value[DISPATCH] ? value[DISPATCH] : null\n\nexport const setDispatch = (current: any, dispatch: any) => {\n  Object.defineProperty(current, DISPATCH, {\n    value: dispatch,\n    enumerable: false,\n    configurable: false\n  })\n\n  return dispatch\n}\n\nexport const resolveExternal =\n  <H extends HookContext>(...resolvers: Resolver<any, H>[]) =>\n  async (context: H, next: NextFunction) => {\n    if (typeof next !== 'function') {\n      throw new Error('The resolveExternal hook must be used as an around hook')\n    }\n\n    await next()\n\n    const existingDispatch = getDispatch(context.result)\n\n    if (existingDispatch !== null) {\n      context.dispatch = existingDispatch\n    } else {\n      const status = context.params.resolve\n      const { isPaginated, data } = getResult(context)\n      const resolveAndGetDispatch = async (current: any) => {\n        const currentExistingDispatch = getDispatch(current)\n\n        if (currentExistingDispatch !== null) {\n          return currentExistingDispatch\n        }\n\n        const resolved = await runResolvers(resolvers, current, context, status)\n        const currentDispatch = Object.keys(resolved).reduce(\n          (res, key) => {\n            res[key] = getDispatchValue(resolved[key])\n\n            return res\n          },\n          {} as Record<string, any>\n        )\n\n        return setDispatch(current, currentDispatch)\n      }\n\n      const result = await (Array.isArray(data)\n        ? Promise.all(data.map(resolveAndGetDispatch))\n        : resolveAndGetDispatch(data))\n      const dispatch = isPaginated\n        ? {\n            ...context.result,\n            data: result\n          }\n        : result\n\n      context.dispatch = setDispatch(context.result, dispatch)\n    }\n  }\n\nexport const resolveDispatch = resolveExternal\n\ntype ResolveAllSettings<H extends HookContext> = {\n  data?: {\n    create: Resolver<any, H>\n    patch: Resolver<any, H>\n    update: Resolver<any, H>\n  }\n  query?: Resolver<any, H>\n  result?: Resolver<any, H>\n  dispatch?: Resolver<any, H>\n}\n\nconst dataMethods = ['create', 'update', 'patch'] as const\n\n/**\n * Resolve all resolvers at once.\n *\n * @param map The individual resolvers\n * @returns A combined resolver middleware\n * @deprecated Use individual data, query and external resolvers and hooks instead.\n * @see https://dove.feathersjs.com/guides/cli/service.schemas.html\n */\nexport const resolveAll = <H extends HookContext>(map: ResolveAllSettings<H>) => {\n  const middleware = []\n\n  middleware.push(resolveDispatch(map.dispatch))\n\n  if (map.result) {\n    middleware.push(resolveResult(map.result))\n  }\n\n  if (map.query) {\n    middleware.push(resolveQuery(map.query))\n  }\n\n  if (map.data) {\n    dataMethods.forEach((name) => {\n      if (map.data[name]) {\n        const resolver = resolveData(map.data[name])\n\n        middleware.push(async (context: H, next: NextFunction) =>\n          context.method === name ? resolver(context, next) : next()\n        )\n      }\n    })\n  }\n\n  return compose(middleware)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}