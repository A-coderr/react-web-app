{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __exportStar = this && this.__exportStar || function (m, exports) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.select = void 0;\nconst commons_1 = require(\"@feathersjs/commons\");\n__exportStar(require(\"./declarations\"), exports);\n__exportStar(require(\"./service\"), exports);\n__exportStar(require(\"./query\"), exports);\n__exportStar(require(\"./sort\"), exports);\n// Return a function that filters a result object or array\n// and picks only the fields passed as `params.query.$select`\n// and additional `otherFields`\nfunction select(params, ...otherFields) {\n  var _a;\n  const queryFields = (_a = params === null || params === void 0 ? void 0 : params.query) === null || _a === void 0 ? void 0 : _a.$select;\n  if (!queryFields) {\n    return result => result;\n  }\n  const resultFields = queryFields.concat(otherFields);\n  const convert = result => commons_1._.pick(result, ...resultFields);\n  return result => {\n    if (Array.isArray(result)) {\n      return result.map(convert);\n    }\n    return convert(result);\n  };\n}\nexports.select = select;","map":{"version":3,"names":["commons_1","require","__exportStar","exports","select","params","otherFields","queryFields","_a","query","$select","result","resultFields","concat","convert","_","pick","Array","isArray","map"],"sources":["C:\\Users\\VARLab ROG 1\\Documents\\workspace\\web\\react-frontend\\node_modules\\@feathersjs\\adapter-commons\\src\\index.ts"],"sourcesContent":["import { _ } from '@feathersjs/commons'\nimport { Params } from '@feathersjs/feathers'\n\nexport * from './declarations'\nexport * from './service'\nexport * from './query'\nexport * from './sort'\n\n// Return a function that filters a result object or array\n// and picks only the fields passed as `params.query.$select`\n// and additional `otherFields`\nexport function select(params: Params, ...otherFields: string[]) {\n  const queryFields: string[] | undefined = params?.query?.$select\n\n  if (!queryFields) {\n    return (result: any) => result\n  }\n\n  const resultFields = queryFields.concat(otherFields)\n  const convert = (result: any) => _.pick(result, ...resultFields)\n\n  return (result: any) => {\n    if (Array.isArray(result)) {\n      return result.map(convert)\n    }\n\n    return convert(result)\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,SAAA,GAAAC,OAAA;AAGAC,YAAA,CAAAD,OAAA,oBAAAE,OAAA;AACAD,YAAA,CAAAD,OAAA,eAAAE,OAAA;AACAD,YAAA,CAAAD,OAAA,aAAAE,OAAA;AACAD,YAAA,CAAAD,OAAA,YAAAE,OAAA;AAEA;AACA;AACA;AACA,SAAgBC,MAAMA,CAACC,MAAc,EAAE,GAAGC,WAAqB;;EAC7D,MAAMC,WAAW,GAAyB,CAAAC,EAAA,GAAAH,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEI,KAAK,cAAAD,EAAA,uBAAAA,EAAA,CAAEE,OAAO;EAEhE,IAAI,CAACH,WAAW,EAAE;IAChB,OAAQI,MAAW,IAAKA,MAAM;EAChC;EAEA,MAAMC,YAAY,GAAGL,WAAW,CAACM,MAAM,CAACP,WAAW,CAAC;EACpD,MAAMQ,OAAO,GAAIH,MAAW,IAAKX,SAAA,CAAAe,CAAC,CAACC,IAAI,CAACL,MAAM,EAAE,GAAGC,YAAY,CAAC;EAEhE,OAAQD,MAAW,IAAI;IACrB,IAAIM,KAAK,CAACC,OAAO,CAACP,MAAM,CAAC,EAAE;MACzB,OAAOA,MAAM,CAACQ,GAAG,CAACL,OAAO,CAAC;IAC5B;IAEA,OAAOA,OAAO,CAACH,MAAM,CAAC;EACxB,CAAC;AACH;AAjBAR,OAAA,CAAAC,MAAA,GAAAA,MAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}