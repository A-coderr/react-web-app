{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.wrapService = exports.normalizeServiceOptions = exports.getServiceOptions = exports.getHookMethods = exports.protectedMethods = exports.defaultServiceEvents = exports.defaultEventMap = exports.defaultServiceMethods = exports.defaultServiceArguments = exports.SERVICE = void 0;\nconst events_1 = require(\"events\");\nconst commons_1 = require(\"@feathersjs/commons\");\nexports.SERVICE = (0, commons_1.createSymbol)('@feathersjs/service');\nexports.defaultServiceArguments = {\n  find: ['params'],\n  get: ['id', 'params'],\n  create: ['data', 'params'],\n  update: ['id', 'data', 'params'],\n  patch: ['id', 'data', 'params'],\n  remove: ['id', 'params']\n};\nexports.defaultServiceMethods = ['find', 'get', 'create', 'update', 'patch', 'remove'];\nexports.defaultEventMap = {\n  create: 'created',\n  update: 'updated',\n  patch: 'patched',\n  remove: 'removed'\n};\nexports.defaultServiceEvents = Object.values(exports.defaultEventMap);\nexports.protectedMethods = Object.keys(Object.prototype).concat(Object.keys(events_1.EventEmitter.prototype)).concat(['all', 'around', 'before', 'after', 'error', 'hooks', 'setup', 'teardown', 'publish']);\nfunction getHookMethods(service, options) {\n  const {\n    methods\n  } = options;\n  return exports.defaultServiceMethods.filter(m => typeof service[m] === 'function' && !methods.includes(m)).concat(methods);\n}\nexports.getHookMethods = getHookMethods;\nfunction getServiceOptions(service) {\n  return service[exports.SERVICE];\n}\nexports.getServiceOptions = getServiceOptions;\nconst normalizeServiceOptions = (service, options = {}) => {\n  const {\n    methods = exports.defaultServiceMethods.filter(method => typeof service[method] === 'function'),\n    events = service.events || []\n  } = options;\n  const serviceEvents = options.serviceEvents || exports.defaultServiceEvents.concat(events);\n  return {\n    ...options,\n    events,\n    methods,\n    serviceEvents\n  };\n};\nexports.normalizeServiceOptions = normalizeServiceOptions;\nfunction wrapService(location, service, options) {\n  // Do nothing if this is already an initialized\n  if (service[exports.SERVICE]) {\n    return service;\n  }\n  const protoService = Object.create(service);\n  const serviceOptions = (0, exports.normalizeServiceOptions)(service, options);\n  if (Object.keys(serviceOptions.methods).length === 0 && ![...exports.defaultServiceMethods, 'setup', 'teardown'].some(method => typeof service[method] === 'function')) {\n    throw new Error(`Invalid service object passed for path \\`${location}\\``);\n  }\n  Object.defineProperty(protoService, exports.SERVICE, {\n    value: serviceOptions\n  });\n  return protoService;\n}\nexports.wrapService = wrapService;","map":{"version":3,"names":["events_1","require","commons_1","exports","SERVICE","createSymbol","defaultServiceArguments","find","get","create","update","patch","remove","defaultServiceMethods","defaultEventMap","defaultServiceEvents","Object","values","protectedMethods","keys","prototype","concat","EventEmitter","getHookMethods","service","options","methods","filter","m","includes","getServiceOptions","normalizeServiceOptions","method","events","serviceEvents","wrapService","location","protoService","serviceOptions","length","some","Error","defineProperty","value"],"sources":["C:\\Users\\VARLab ROG 1\\Documents\\workspace\\web\\react-web-app\\react-frontend\\node_modules\\@feathersjs\\feathers\\src\\service.ts"],"sourcesContent":["import { EventEmitter } from 'events'\nimport { createSymbol } from '@feathersjs/commons'\nimport { ServiceOptions } from './declarations'\n\nexport const SERVICE = createSymbol('@feathersjs/service')\n\nexport const defaultServiceArguments = {\n  find: ['params'],\n  get: ['id', 'params'],\n  create: ['data', 'params'],\n  update: ['id', 'data', 'params'],\n  patch: ['id', 'data', 'params'],\n  remove: ['id', 'params']\n}\nexport const defaultServiceMethods = ['find', 'get', 'create', 'update', 'patch', 'remove']\n\nexport const defaultEventMap = {\n  create: 'created',\n  update: 'updated',\n  patch: 'patched',\n  remove: 'removed'\n}\n\nexport const defaultServiceEvents = Object.values(defaultEventMap)\n\nexport const protectedMethods = Object.keys(Object.prototype)\n  .concat(Object.keys(EventEmitter.prototype))\n  .concat(['all', 'around', 'before', 'after', 'error', 'hooks', 'setup', 'teardown', 'publish'])\n\nexport function getHookMethods(service: any, options: ServiceOptions) {\n  const { methods } = options\n\n  return (defaultServiceMethods as any as string[])\n    .filter((m) => typeof service[m] === 'function' && !methods.includes(m))\n    .concat(methods)\n}\n\nexport function getServiceOptions(service: any): ServiceOptions {\n  return service[SERVICE]\n}\n\nexport const normalizeServiceOptions = (service: any, options: ServiceOptions = {}): ServiceOptions => {\n  const {\n    methods = defaultServiceMethods.filter((method) => typeof service[method] === 'function'),\n    events = service.events || []\n  } = options\n  const serviceEvents = options.serviceEvents || defaultServiceEvents.concat(events)\n\n  return {\n    ...options,\n    events,\n    methods,\n    serviceEvents\n  }\n}\n\nexport function wrapService(location: string, service: any, options: ServiceOptions) {\n  // Do nothing if this is already an initialized\n  if (service[SERVICE]) {\n    return service\n  }\n\n  const protoService = Object.create(service)\n  const serviceOptions = normalizeServiceOptions(service, options)\n\n  if (\n    Object.keys(serviceOptions.methods).length === 0 &&\n    ![...defaultServiceMethods, 'setup', 'teardown'].some((method) => typeof service[method] === 'function')\n  ) {\n    throw new Error(`Invalid service object passed for path \\`${location}\\``)\n  }\n\n  Object.defineProperty(protoService, SERVICE, {\n    value: serviceOptions\n  })\n\n  return protoService\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}